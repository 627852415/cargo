<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml"  xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<head>
    <title>订单详情</title>
    <script type="text/javascript" th:src="@{/js/commonHead.js}"></script>
</head>
<body>

<input type="hidden" th:value="${id}" id="id" name="id"/>

<div class="layui-form-item">
    <label class="layui-form-label">订单类型</label>
    <div class="layui-input-inline">
        <input type="text" id="type"  th:value="${orderType} ">
    </div>
</div>
<div class="layui-form-item">
    <label class="layui-form-label">订单号</label>
    <div class="layui-input-inline">
        <input type="text" id="orderId"  th:value="${orderId} ">
    </div>
</div>
<div class="layui-form-item">
    <label class="layui-form-label">用户ID</label>
    <div class="layui-input-inline">
        <input type="text" id="orderUserId"  th:value="${orderUserId} ">
    </div>
</div>

<div class="layui-form-item">
    <label class="layui-form-label">订单返佣金额</label>
    <div class="layui-input-inline">
        <input type="text" id="orderAmount"  th:value="${orderAmount} ">
    </div>
</div>

<table class="layui-table" lay-data="{cellMinWidth: 80, page: true, id: 'dataLoad'}" lay-filter="dataTable">
    <thead>
    <tr>
        <th lay-data="{type:'numbers', width:'4%',align:'center',style:'height:65px;'}">序号</th>
        <th lay-data="{field:'type', align:'center',toolbar:'#barType'}">类型</th>
        <th lay-data="{field:'amount', align:'center'}">金额</th>
        <th lay-data="{field:'ratio', align:'center'}">返佣比例</th>
        <th lay-data="{field:'extraRatio', align:'center'}">额外比例</th>
        <th lay-data="{field:'userId', align:'center'}">用户ID</th>
        <th lay-data="{field:'levelName', align:'center'}">所属级别</th>
    </tr>
    </thead>
</table>
<script type="text/html" id="barType">
    {{#if (d.type == 1) { }}
    <span>上级</span>
    {{# }else if(d.type == 2){ }}
    <span>平台利润</span>
    {{# } }}
</script>
</body>
</html>

<script type="text/javascript">
    //debugger;
    loadTableWithoutColumns('/commission/order/detail?id='+$("#id").val(), 'dataTable', 'searchForm');

    //[[#{text.lazy.loading}]]
    setTimeout('rowTool()', 1000); //延迟1秒


</script>